# wine-liquidation

Простое веб‑приложение для учета остатков винных позиций (React прямо в HTML) с синхронизацией в **Supabase**.

## Как запустить локально

Проще всего открыть `index.html` двойным кликом.  
Но для корректной загрузки Excel по `fetch()` лучше запускать через локальный сервер.

В PowerShell из папки проекта:

```powershell
cd d:\GitHub\wine-liquidation
python -m http.server 5173
```

Потом откройте в браузере: `http://localhost:5173`

## Подключение к Supabase (хранение данных)

Термины:
- **Supabase**: “облачная база данных”, куда можно сохранять ваш список вин, чтобы он был одинаковый на разных компьютерах.
- **RLS (Row Level Security)**: “правила доступа”, кто может читать/менять строки таблицы. Это главный замок безопасности.
- **anon key**: “публичный ключ” для браузера (не секрет). Но **service_role key** — это секрет, его НЕЛЬЗЯ класть в GitHub.

### Шаг 1. Создайте проект и таблицу

1) Создайте проект в Supabase.  
2) Откройте Supabase Dashboard → **SQL Editor** → **New query**.  
3) Вставьте и выполните SQL из файла:

`supabase/schema.sql`

### Шаг 2. Включите логин (рекомендуется)

1) Supabase Dashboard → **Authentication** → Providers → включите **Email**.  
2) Authentication → **Users** → **Add user** → задайте email/пароль (это будет ваш “админ”).

### Шаг 3. Вставьте ключи в код

Откройте файл:

`wine-liquidation-list.html`

Найдите вверху:

- `SUPABASE_URL`
- `SUPABASE_ANON_KEY`

и вставьте значения из Supabase Dashboard → **Settings → API**.

После этого в боковом меню появится блок **Синхронизация**. Введите email/пароль и нажмите “Войти”.

## Важно про безопасность

- Никогда не добавляйте в репозиторий файлы `.env` с секретами.
- Не используйте **service_role** ключ в браузере (это как “мастер‑ключ от всего”).

